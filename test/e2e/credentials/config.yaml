base_images:
  os:
    cluster: https://api.ci.openshift.org
    name: centos
    namespace: openshift
    tag: '7'
resources:
  '*':
    limits:
      cpu: 500m
    requests:
      cpu: 10m  
tests:
  - as: multi-stage-with-credentials
    steps:
      test:
        - as: read-and-share
          commands: cat /credential/key > ${SHARED_DIR}/key
          credentials:
            - mountPath: /credential
              name: credential
              namespace: CHANGE_ME
          from: os
          resources:
            requests:
              cpu: 100m
              memory: 200Mi
        - as: consume-and-validate
          commands: test $( cat ${SHARED_DIR}/key ) = value
          from: os
          resources:
            requests:
              cpu: 100m
              memory: 200Mi
zz_generated_metadata:
  branch: master
  org: test
  repo: test
