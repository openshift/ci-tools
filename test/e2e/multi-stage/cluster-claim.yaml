base_images:
  base:
    name: centos
    namespace: ci
    tag: "8"
resources:
  '*':
    limits:
      cpu: 500m
    requests:
      cpu: 10m
tests:
  - as: e2e-claim
    cluster_claim:
      architecture: amd64
      cloud: aws
      owner: fake
      product: ocp
      timeout: 3m # a claim from a fake pool should become ready very soon
      version: "4.7"
    steps:
      test:
        - as: claim-step-with-cli
          commands: |
            set -x
            cmp "${KUBECONFIG}" /secrets/hive-admin-kubeconfig/kubeconfig
            oc config view
          from: base
          cluster_claim_cli: true
          resources:
            requests:
              cpu: 100m
              memory: 200Mi
zz_generated_metadata:
  branch: master
  org: test
  repo: test
