{
  "zz_generated_metadata": {
    "org": "openshift",
    "repo": "installer",
    "branch": "release-4.2"
  },
  "base_images": {
    "base": {
      "namespace": "ocp",
      "name": "4.2",
      "tag": "base"
    },
    "release-job-base": {
      "namespace": "ocp",
      "name": "4.2",
      "tag": "release-job-base"
    }
  },
  "build_root": {
    "image_stream_tag": {
      "namespace": "openshift",
      "name": "release",
      "tag": "golang-1.10"
    }
  },
  "images": [
    {
      "from": "base",
      "to": "installer"
    }
  ],
  "tests": [
    {
      "as": "e2e",
      "literal_steps": {
        "cluster_profile": "azure4",
        "pre": [
          {
            "as": "ipi-install-rbac",
            "from": "installer",
            "commands": "setup-rbac\n",
            "resources": {
              "requests": {
                "cpu": "1000m",
                "memory": "2Gi"
              }
            }
          },
          {
            "as": "ipi-install-install",
            "from": "installer",
            "commands": "openshift-cluster install\n",
            "resources": {
              "requests": {
                "cpu": "1000m",
                "memory": "2Gi"
              }
            },
            "env": [
              {
                "name": "TEST_PARAMETER",
                "default": "test parameter default"
              }
            ],
            "observers": [
              "resourcewatcher"
            ]
          }
        ],
        "test": [
          {
            "as": "e2e",
            "from": "my-image",
            "commands": "make azure-e2e",
            "resources": {
              "requests": {
                "cpu": "1000m",
                "memory": "2Gi"
              }
            }
          }
        ],
        "post": [
          {
            "as": "ipi-deprovision-must-gather",
            "from": "installer",
            "commands": "gather\n",
            "resources": {
              "requests": {
                "cpu": "1000m",
                "memory": "2Gi"
              }
            }
          },
          {
            "as": "ipi-deprovision-deprovision",
            "from": "installer",
            "commands": "openshift-cluster destroy\n",
            "resources": {
              "requests": {
                "cpu": "1000m",
                "memory": "2Gi"
              }
            }
          }
        ],
        "observers": [
          {
            "name": "resourcewatcher",
            "from_image": {
              "namespace": "ocp",
              "name": "resourcewatcher",
              "tag": "latest"
            },
            "commands": "#!/bin/bash\n\nsleep 300"
          }
        ]
      }
    }
  ],
  "resources": {
    "*": {
      "requests": {
        "cpu": "100m",
        "memory": "200Mi"
      },
      "limits": {
        "memory": "4Gi"
      }
    }
  }
}